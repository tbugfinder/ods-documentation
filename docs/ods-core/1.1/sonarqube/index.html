<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SonarQube :: OpenDevStack</title>
    <link rel="canonical" href="https://www.rattermeyer.de/ods-documentation/ods-core/latest/sonarqube/index.html">
    <meta name="generator" content="Antora 2.0.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.rattermeyer.de/ods-documentation">OpenDevStack</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Components</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../../../common/latest/index.html">Guides and Tutorials</a>
            <a class="navbar-item" href="../../../ods-jenkins-shared-library/latest/index.html">Jenkins Shared Library</a>
            <a class="navbar-item" href="../../latest/infrastructure-setup/index.html">ODS Core</a>
            <a class="navbar-item" href="../../../ods-provisioning-app/latest/index.html">Provisioning App</a>
          </div>
        </div>
        <a class="navbar-item" href="#">Home</a>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="ods-core" data-version="1.1">
  <aside class="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title">ODS Components</h3>
    <ul class="nav-list">
  <li class="nav-item" data-depth="0">
      <a class="nav-link" href="../../../common/latest/index.html">Guides and Tutorials</a>
      </li>
  <li class="nav-item" data-depth="0">
      <a class="nav-link" href="../../../ods-jenkins-shared-library/latest/index.html">Jenkins Shared Library</a>
      </li>
  <li class="nav-item" data-depth="0">
      <a class="nav-link" href="../../latest/infrastructure-setup/index.html">ODS Core</a>
      </li>
  <li class="nav-item" data-depth="0">
      <a class="nav-link" href="../../../ods-provisioning-app/latest/index.html">Provisioning App</a>
      </li>
    </ul>
    <h3 class="title"><a href="../infrastructure-setup/index.html">ODS Core</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../infrastructure-setup/index.html">Intro</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../sysenv-requirements.html">System and Environment Requirements</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../infrastructure-setup/index.html">Infrastructure Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Jenkins</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jenkins/index.html">Jenkins Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jenkins/webhook-proxy.html">Webhook Proxy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jenkins/slave-base.html">Jenkins Slave Base Image</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">Shared Images</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../shared-images/openresty-nginx.html">OpenResty Base image + WAF</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../shared-images/nginx-authproxy-crowd.html">Crowd Authproxy</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="index.html">Sonarqube</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">ODS Core</span>
    <span class="version">1.1</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Guides and Tutorials</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../common/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../../common/1.1/index.html">1.1</a>
        </li>
        <li class="version">
          <a href="../../../common/v1.0/index.html">v1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Jenkins Shared Library</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../ods-jenkins-shared-library/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../../ods-jenkins-shared-library/1.1/index.html">1.1</a>
        </li>
        <li class="version">
          <a href="../../../ods-jenkins-shared-library/v1.0/index.html">v1.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">ODS Core</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../latest/infrastructure-setup/index.html">latest</a>
        </li>
        <li class="version is-current">
          <a href="../infrastructure-setup/index.html">1.1</a>
        </li>
        <li class="version">
          <a href="../../v1.0/infrastructure-setup/index.html">v1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Provisioning App</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../ods-provisioning-app/latest/index.html">latest</a>
        </li>
        <li class="version">
          <a href="../../../ods-provisioning-app/1.1/index.html">1.1</a>
        </li>
        <li class="version">
          <a href="../../../ods-provisioning-app/v1.0/index.html">v1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../../../common/latest/getting-started/local-install.html" class="home-link"></a>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../infrastructure-setup/index.html">ODS Core</a></li>
    <li class="crumb"><a href="index.html">Sonarqube</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="versions-menu-toggle" title="Show other versions of page">1.1</button>
  <div class="versions-menu">
    <a class="version" href="../../latest/sonarqube/index.html">latest</a>
    <a class="version is-current" href="index.html">1.1</a>
    <a class="version" href="../../v1.0/sonarqube/index.html">v1.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/rattermeyer/ods-core/edit/1.1.x/docs/modules/sonarqube/pages/index.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>SonarQube</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>SonarQube is an open source platform developed by SonarSource for continuous inspection of code quality to perform automatic reviews with static analysis of code to detect bugs, code smells, and security vulnerabilities.</p>
</div>
<div class="paragraph">
<p>This repo contains the build recipe for a central SonarQube instance to which all Jenkins instances send reports to. The remainder of this readme describes how that setup is done.
If you are looking for instructions how to analyse your repositories, please see <a href="https://github.com/opendevstack/ods-core/blob/master/USAGE.md">USAGE.md</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setup"><a class="anchor" href="#_setup"></a>Setup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The OpenShift templates are located in <code>ocp-config</code> and can be compared with the OC cluster using <a href="https://github.com/opendevstack/tailor">tailor</a>. For example, run <code>cd ocp-config &amp;&amp; tailor status</code> to see if there is any drift between current and desired state.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_administration"><a class="anchor" href="#_administration"></a>Administration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There is an <code>admin</code> user which is allowed to change settings, install plugins, etc. The password is located in the OC project <code>cd</code>, under the <code>sonarqube-app</code> secrets.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_a_new_image"><a class="anchor" href="#_building_a_new_image"></a>Building a new image</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Push to this repository, then go to the build config in OC and start a new build.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_manual_steps_performed_after_booting_the_instance"><a class="anchor" href="#_manual_steps_performed_after_booting_the_instance"></a>Manual steps performed after booting the instance</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Admin password changed (see OC secrets <code>sonarqube-app</code>).</p>
</li>
<li>
<p>Locked Sonarqube to logged-in users (Administation &gt; Configuration &gt; Security &gt; Force User Authentication).</p>
</li>
<li>
<p>Logged in as cd_user and created a auth token (My Account &gt; Security &gt; Generate New Token).</p>
</li>
<li>
<p>As the auth token and the admin password has changed, you will need to update the OCP configuration again.</p>
</li>
<li>
<p>Installed further plugins (Administation &gt; Marketplace), e.g. SonarJava, SonarJS, Git.</p>
</li>
</ol>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
